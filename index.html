<!DOCTYPE html>  
<html lang="ar" dir="rtl">
<head>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-35NPHCGB93"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-35NPHCGB93');
  </script>

  <link rel="apple-touch-icon" href="1024.png">
  <link rel="icon" href="1024.png">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>حاسبة الغياب</title>

  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@600;700;800&display=swap" rel="stylesheet">

  <style>
    :root {
      --primary: #006699;
      --secondary: #00aed9;
      --text-dark: #2c3e50;

      --safe: #22c55e;
      --warning: #facc15;
      --orange: #fb923c;
      --danger: #ef4444;

      --bg-gradient: linear-gradient(135deg, #e6f4f8 0%, #ffffff 100%);

      --info-modal-bg: #ffffff;
      --info-modal-text: #1f2937;
      --info-modal-accent: #0EA5E9;
    }

    .num{
      direction: ltr;
      unicode-bidi: bidi-override;
      display: inline-block;
      font-weight: 800;
    }

    .formula-line{
      direction: rtl;
      unicode-bidi: isolate-override;
      text-align: center;
      white-space: nowrap;
    }

    body {
      margin: 0;
      font-family: 'Cairo', 'Segoe UI', Tahoma, sans-serif;
      background: var(--bg-gradient);
      padding: 20px 10px;
      direction: rtl;
      min-height: 100vh;
    }

    .install-banner {
      background: #ffffff;
      border: 1px solid #e1e9e7;
      padding: 4px 12px;
      border-radius: 14px;
      margin-bottom: 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 3px 8px rgba(0,0,0,0.03);
    }

    .install-text {
      font-weight: 600;
      color: var(--primary);
      font-size: 0.78rem;
    }

    .install-btn {
      background: var(--secondary);
      color: white;
      border: none;
      padding: 4px 12px;
      border-radius: 10px;
      font-size: 0.72rem;
      font-weight: bold;
      cursor: pointer;
    }

    .app-container { max-width: 450px; margin: 0 auto; }
    .header-section { text-align: center; margin-bottom: 20px; }

    .college-logo img {
      width: clamp(220px, 60vw, 300px);
      margin-bottom: 0px;
      filter: drop-shadow(0 3px 6px rgba(0,0,0,0.12));
    }

    .header-text h1 {
      margin: 0;
      font-size: clamp(1.9rem, 4.8vw, 2.5rem);
      font-weight: 800;
      color: var(--primary);
      letter-spacing: 0.3px;
    }

    .system-badge {
      display: inline-block;
      margin-top: 8px;
      padding: 4px 12px;
      background: #e0f2f1;
      color: #00796b;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: bold;
    }

    .system-16 { background: #ecfdf5; color: #047857; }
    .system-15 { background: #e0f2fe; color: #0369a1; }

    .action-bars { display: flex; gap: 10px; margin: 20px 0; }
    .add-btn {
      flex: 2;
      padding: 14px;
      background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
      color: white;
      border: none;
      border-radius: 16px;
      font-weight: bold;
      cursor: pointer;
      font-size: 1.05rem;
      letter-spacing: 0.3px;
      box-shadow: 0 4px 12px rgba(0, 102, 153, 0.2);
    }
    .reset-all {
      flex: 1;
      padding: 12px;
      background: #fff;
      color: var(--primary);
      border: 1px solid var(--primary);
      border-radius: 16px;
      cursor: pointer;
      font-weight: bold;
    }

    .course-card {
      background: white;
      border-radius: 28px;
      padding: 22px;
      margin-bottom: 20px;
      box-shadow: 0 12px 30px rgba(0,0,0,0.06);
      border: 1px solid #d1e2e8;
      position: relative;
    }

    .delete-course {
      position: absolute;
      top: 18px;
      left: 18px;
      background: #fee2e2;
      color: #ef4444;
      border: none;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .course-title {
      width: 85%;
      border: none;
      border-bottom: 2px solid #f0f0f0;
      font-size: 1.1rem;
      font-weight: bold;
      color: var(--primary);
      margin-bottom: 15px;
      padding: 5px;
      outline: none;
      background: transparent;
    }

    .input-group { margin-bottom: 12px; }
    .input-group label {
      display: block;
      font-size: 0.9rem;
      color: #334155;
      margin-bottom: 6px;
      font-weight: 800;
      background: #f0f7f9;
      padding: 6px 12px;
      border-right: 3px solid var(--secondary);
    }

    input:focus { border-color: var(--secondary); background: #f8fdff; }
    .flex-inputs { display: flex; gap: 8px; align-items: flex-end; }
    .flex-inputs > div { flex: 1; }

    .input-sub-label {
      font-size: 0.8rem;
      color: #666;
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 2px;
      font-weight: 600;
      width: 100%;      
      white-space: nowrap;
    }

    .info-icon {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 18px;
      height: 18px;
      background: var(--info-modal-accent);
      color: white;
      border-radius: 999px;
      font-size: 0.78rem;
      margin-right: 6px;
      cursor: pointer;
      font-weight: 900;
      vertical-align: middle;
      box-shadow: 0 6px 14px rgba(14,165,233,0.25);
      transition: transform 0.15s ease, filter 0.15s ease, background 0.2s ease;
    }
    .info-icon:hover { filter: brightness(1.05); }
    .info-icon:active { transform: translateY(1px) scale(0.98); }
    .info-icon.warn { background: var(--orange); box-shadow: 0 6px 14px rgba(251,146,60,0.25); }
    .info-icon.danger { background: var(--danger); box-shadow: 0 6px 14px rgba(239,68,68,0.25); }

    .result-area { border-radius: 20px; padding: 15px; margin-top: 15px; text-align: center; }
    .safe-bg { background: #f0fdf4; border: 1px solid #dcfce7; }
    .warning-bg { background: #fffbeb; border: 1px solid #fef3c7; }
    .danger-bg { background: #fef2f2; border: 1px solid #fee2e2; }

    .progress-bar { height: 8px; background: #e5e7eb; border-radius: 4px; margin: 10px 0; overflow: hidden; }
    .progress-fill { height: 100%; width: 0%; transition: 0.8s ease-in-out; }

    .advice-box {
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px dashed rgba(0,0,0,0.1);
      font-size: 0.85rem;
      color: #444;
      line-height: 1.4;
    }
    .advice-box b { color: var(--primary); }

    .footer-note {
      text-align: center;
      font-size: 0.8rem;
      color: #718096;
      margin-top: 40px;
      border-top: 1px solid #d1d9e6;
      padding-top: 20px;
    }
    .footer-note p { margin: 3px 0; }
    .footer-note .year { font-size: 0.7rem; color: #888; }
    .primary-num { color: var(--primary); font-weight: 900; }

    .info-overlay{
      display:none;
      position:fixed;
      inset:0;
      background: rgba(15, 23, 42, 0.55);
      z-index: 10000;
      justify-content:center;
      align-items:center;
      padding: 14px;
    }

    .info-modal{
      width: 92%;
      max-width: 360px;
      background: var(--info-modal-bg);
      color: var(--info-modal-text);
      border-radius: 20px;
      box-shadow: 0 18px 45px rgba(0,0,0,0.25);
      overflow: hidden;
      border: 1px solid rgba(15, 23, 42, 0.08);
    }

    .info-modal-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 14px 16px;
      border-bottom: 1px solid rgba(15, 23, 42, 0.08);
    }

    .info-modal-title{
      display:flex;
      align-items:center;
      gap:10px;
      font-weight: 900;
      font-size: 0.95rem;
    }

    .info-badge{
      width: 28px;
      height: 28px;
      border-radius: 10px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: #e0f2fe;
      color: var(--info-modal-accent);
      font-weight: 900;
    }

    .info-close{
      background: transparent;
      border: none;
      color: #475569;
      font-size: 1.1rem;
      cursor: pointer;
      padding: 6px 10px;
      border-radius: 10px;
    }
    .info-close:hover{
      background: rgba(2, 132, 199, 0.08);
      color: var(--info-modal-text);
    }

    .info-modal-body{
      padding: 14px 16px 6px 16px;
      font-size: 0.92rem;
      line-height: 1.7;
    }

    .info-modal-footer{
      padding: 12px 16px 16px 16px;
    }

    .info-ok{
      width:100%;
      background: var(--info-modal-accent);
      color: white;
      border: none;
      border-radius: 14px;
      padding: 12px 14px;
      font-weight: 900;
      cursor: pointer;
      box-shadow: 0 12px 28px rgba(0,0,0,0.12);
    }
    .info-ok:active{ transform: translateY(1px); }

    select, input {
      width: 100%;
      height: 42px; 
      padding: 5px;
      border-radius: 12px;
      border: 1.5px solid #edf2f1;
      font-family: inherit;
      text-align: center;
      font-size: 0.95rem;
      font-weight: 800;
      outline: none;
      box-sizing: border-box;
      transition: all 0.3s;
      background-color: #eeeeee; 
      color: #006699; 
      line-height: 1.2; 
      display: block;
    }

    select {
      appearance: none;
      -webkit-appearance: none;
      background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23006699' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m6 9 6 6 6-6'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: left 10px center;
    }

    .flex-inputs { 
      display: flex; 
      gap: 5px; 
      align-items: flex-end; 
    }
    
    .flex-inputs > div { 
      flex: 1; 
      min-width: 0; 
    }
  </style>
</head>

<body>

  <div id="guideModal" class="info-overlay" onclick="toggleModal(false)">
    <div class
